(()=>{"use strict";function e(e,t,n,d,a,s){return{title:e,description:t,date:n,priority:d,cheked:a,id:s,isFromToday:()=>{},isFromThisWeek:()=>{},isImportant:()=>{},isCompleted:()=>{}}}function t(e,t){const n=[];return{name:e,id:t,addTask:e=>{n.push(e)},getTasks:()=>n,deleteTask:e=>{const t=n.indexOf(e);e.splice(t,1)}}}const n=t("nuevo"),d=e("hola","si","ahora","1","no");n.addTask(d);const a=(e,t)=>{const n=document.getElementsByClassName("sections")[0],d=document.createElement("li"),a=document.createElement("a");a.innerText=e,a.setAttribute("href","#"),a.dataset.section=e,a.classList.add("section-link"),d.appendChild(a),d.classList.add("section"),d.addEventListener("click",t),n.appendChild(d)},s=(e,t)=>{const n=document.getElementsByClassName("projects")[0],d=document.createElement("li"),a=document.createElement("a");a.innerText=e.name,a.setAttribute("href","#"),d.appendChild(a),d.classList.add("project"),d.dataset.id=e.id,d.addEventListener("click",(n=>{n.preventDefault(),t(e.id)})),n.appendChild(d)},c=(e,t,n)=>{((e,t)=>{const n=document.createElement("div");n.classList.add("section-conteiner");const d=document.createElement("ul");d.classList.add("sections"),n.appendChild(d),e.appendChild(n)})(e),((e,t)=>{const n=document.createElement("div");(e=>{const t=document.createElement("div");t.classList.add("projects-conteiner");const n=document.createElement("h2");n.innerText="Projects",n.classList.add("project-title"),t.appendChild(n);const d=document.createElement("button");d.classList.add("projects-add"),d.innerText="Add Project",t.appendChild(d),e.appendChild(t)})(n),((e,t)=>{const n=document.createElement("ul");n.classList.add("projects"),e.appendChild(n)})(n),e.appendChild(n)})(e)},o=e=>{const t=document.getElementById("content");(e=>{for(;e.firstChild;)e.removeChild(e.lastChild)})(t),i(e,t)},i=(e,t)=>{const n=document.createElement("button");n.innerText="AddTask",n.classList.add("task-add");const d=document.createElement("div");d.classList.add("task"),d.appendChild(n),console.log(t),t.appendChild(d),e.forEach((e=>{const n=document.createElement("div");n.classList.add("task"),n.dataset.id=e.id,((e,t)=>{const{title:n,description:d,date:a,priority:s,cheked:c}=t,o=document.createElement("h3");o.classList.add("task-title"),o.innerText=n,e.appendChild(o)})(n,e),t.appendChild(n)}))},r=function(n){let d=[];const a=()=>Math.floor(1e6*Math.random()),s=e=>{const n=t(e,a());return d.push(n),n.id};return{createTask:(t,n,s,c,o,i)=>{const r=e(t,n,s,c,o,a()),l=d.find((e=>e.id===i));console.log("is this"+l),l.addTask(r)},createProject:s,updateTask:(e,t,n)=>{const a=d.indexOf(e);d[a]=t},deleteTask:(e,t)=>{const n=d.indexOf(t);d[n].deleteTask(e)},deleteProject:e=>{const t=d.indexOf(e);d.splice(t,1)},getProjects:()=>d,firstProject:()=>(d||s("My Project"),d[0]),getProjectTask:e=>d.find((t=>t.id===e))}}(),l=r.createProject("nuevo");r.createTask("tarea","1","1","1","1",l),function(e){const t=[{name:"All",handler:()=>!0},{name:"today",handler:e=>e.isFromToday()},{name:"this Week",handler:e=>e.isFromThisWeek()},{name:"Important",handler:e=>e.isImportant()},{name:"Completed",handler:e=>e.isCompleted()}],n=(d=e.getProjects(),{initialize:()=>{(e=>{const t=document.createElement("h1");t.innerText="TODO LIST",e.appendChild(t)})(document.getElementById("header"));const e=document.getElementById("sidebar");c(e);const t=document.getElementById("content");i((()=>{let e=[];return d.forEach((t=>{e=e.concat(t.getTasks())})),e})(),t)},renderProjects:()=>{},renderTask:e=>{},renderProject:e=>{},createSection:a,createProject:s,renderContent:o});var d;let r=e.firstProject(),l=r.getTasks();n.initialize();const m=e=>{l=e(),p()};t.forEach((e=>{n.createSection(e.name,(()=>{m((()=>{e.handler()}))}))}));const p=()=>{document.getElementsByClassName("task-add")[0].addEventListener("click",u),e.getProjects().forEach((t=>{n.createProject(t,(t=>{m((()=>{e.getProjectTask(t)}))}))})),n.renderContent(l)},u=t=>{t.preventDefault(),e.createTask("1","1","1","1","1",r),p()};document.getElementsByClassName("projects-add")[0].addEventListener("click",(t=>{t.preventDefault(),e.createProject("1"),p()})),p()}(r)})();