(()=>{"use strict";function e(e,t,n,d,a,s){return{title:e,description:t,date:n,priority:d,cheked:a,id:s,isFromToday:()=>{},isFromThisWeek:()=>{},isImportant:()=>{},isCompleted:()=>{}}}function t(e,t){const n=[];return{name:e,id:t,addTask:e=>{n.push(e)},getTasks:()=>n,deleteTask:e=>{const t=n.indexOf(e);e.splice(t,1)}}}const n=t("nuevo"),d=e("hola","si","ahora","1","no");n.addTask(d);const a=(e,t)=>{const n=document.getElementsByClassName("sections")[0],d=document.createElement("li"),a=document.createElement("a");a.innerText=e,a.setAttribute("href","#"),a.dataset.section=e,a.classList.add("section-link"),d.appendChild(a),d.classList.add("section"),d.addEventListener("click",t),n.appendChild(d)},s=(e,t,n)=>{((e,t)=>{const n=document.createElement("div");n.classList.add("section-conteiner");const d=document.createElement("ul");d.classList.add("sections"),n.appendChild(d),e.appendChild(n)})(e),((e,t)=>{const n=document.createElement("div");(e=>{const t=document.createElement("div");t.classList.add("projects-conteiner");const n=document.createElement("h2");n.innerText="Projects",n.classList.add("project-title"),t.appendChild(n);const d=document.createElement("button");d.classList.add("projects-add"),d.innerText="Add Project",t.appendChild(d),e.appendChild(t)})(n),((e,t)=>{const n=document.createElement("ul");n.classList.add("projects"),t.forEach((e=>{const t=document.createElement("li");t.innerText=e.name,t.classList.add("project"),t.dataset.id=e.id,n.appendChild(t)})),e.appendChild(n)})(n,t),e.appendChild(n)})(e,t)},c=function(n){let d=[];const a=()=>Math.floor(1e6*Math.random()),s=e=>{const n=t(e,a());return d.push(n),n.id};return{createTask:(t,n,s,c,i,o)=>{const r=e(t,n,s,c,i,a()),l=d.find((e=>e.id===o));console.log("is this"+l),l.addTask(r)},createProject:s,updateTask:(e,t,n)=>{const a=d.indexOf(e);d[a]=t},deleteTask:(e,t)=>{const n=d.indexOf(t);d[n].deleteTask(e)},deleteProject:e=>{const t=d.indexOf(e);d.splice(t,1)},getProjects:()=>d,firstProject:()=>(d||s("My Project"),d[0])}}(),i=c.createProject("nuevo");c.createTask("tarea","1","1","1","1",i),function(e){const t=[{name:"All",handler:()=>!0},{name:"today",handler:e=>e.isFromToday()},{name:"this Week",handler:e=>e.isFromThisWeek()},{name:"Important",handler:e=>e.isImportant()},{name:"Completed",handler:e=>e.isCompleted()}],n=(d=e.getProjects(),{initialize:()=>{(e=>{const t=document.createElement("h1");t.innerText="TODO LIST",e.appendChild(t)})(document.getElementById("header"));const e=document.getElementById("sidebar");s(e,d),((e,t)=>{const n=document.createElement("button");n.innerText="AddTask",n.classList.add("task-add");const d=document.createElement("div");d.classList.add("task"),d.appendChild(n),e.appendChild(d),t.forEach((t=>{const n=document.createElement("div");n.classList.add("task"),n.dataset.id=t.id,((e,t)=>{const{title:n,description:d,date:a,priority:s,cheked:c}=t,i=document.createElement("h3");i.classList.add("task-title"),i.innerText=n,e.appendChild(i)})(n,t),e.appendChild(n)}))})(document.getElementById("content"),(()=>{let e=[];return d.forEach((t=>{e=e.concat(t.getTasks())})),e})())},renderProjects:()=>{},renderTask:e=>{},renderProject:e=>{},createSection:a});var d;let c=e.firstProject();n.initialize(),t.forEach((e=>{n.createSection(e.name,e.handler)}));const i=()=>{document.getElementsByClassName("task-add")[0].addEventListener("click",o)},o=t=>{t.preventDefault(),e.createTask("1","1","1","1","1",c),i()};document.getElementsByClassName("projects-add")[0].addEventListener("click",(t=>{t.preventDefault(),e.createProject("1"),i()})),i()}(c)})();